<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@lit-protocol/lit-oracle-kit</title><meta name="description" content="Documentation for @lit-protocol/lit-oracle-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@lit-protocol/lit-oracle-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@lit-protocol/lit-oracle-kit</h1></div><div class="tsd-panel tsd-typography"><a id="md:lit-oracle-kit" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Lit Oracle Kit<a href="#md:lit-oracle-kit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This is a simple kit demonstrating how the Lit Network can be used to sign data pulled from the web (via API) and write it to a given blockchain. This may be a useful primitive for several different use cases, such as generating verifiable data proofs, using off-chain data to trigger blockchain transactions, or performing cross-chain message passing with chain signatures (using a state change on Chain A to trigger a state change on Chain B.)</p>
<a id="md:how-it-works" class="tsd-anchor"></a><h2 class="tsd-anchor-link">How it works<a href="#md:how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Lit Oracle Kit uses an PKP Wallet (Programmable Key Pair) to sign the data that is written to the chain using a Lit Action (JS code that runs on Lit Nodes). The PKP is irrevocably bound to the code that retrieves and writes the data to chain, so you know that if this PKP wrote the data, it was by running that Lit Action JS code.</p>
<p>When you call <code>writeToChain</code>, the kit does the following:</p>
<ol>
<li>Checks if there is already a PKP Wallet for the given IPFS CID. If not, it creates a new one and stores it in local storage.</li>
<li>Sends the JS code to the Lit Nodes to be executed</li>
<li>On the Lit Nodes, the JS code uses the PKP Wallet to sign the data and broadcast it to chain.</li>
</ol>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">lit-oracle-kit</span>
</code><button type="button">Copy</button></pre>

<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">LitOracleKit</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;lit-oracle-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sdk</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">LitOracleKit</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;datil-dev&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-6">LIT_ORACLE_KIT_PRIVATE_KEY</span><span class="hl-1">!</span><br/><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">sdk</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">sdk</span><span class="hl-1">.</span><span class="hl-0">writeToChain</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">dataSource:</span><span class="hl-1"> </span><span class="hl-2">`</span><br/><span class="hl-2">    const url = &quot;https://api.weather.gov/gridpoints/LWX/97,71/forecast&quot;;</span><br/><span class="hl-2">    const response = await fetch(url).then((res) =&gt; res.json());</span><br/><span class="hl-2">    const nearestForecast = response.properties.periods[0];</span><br/><span class="hl-2">    const temp = nearestForecast.temperature;</span><br/><span class="hl-2">    const probabilityOfPrecipitation = nearestForecast.probabilityOfPrecipitation.value || 0;</span><br/><span class="hl-2">    return [ temp, probabilityOfPrecipitation ];</span><br/><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">functionAbi:</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;function updateWeather(int256 temperature, uint8 precipitationProbability) external&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">toAddress:</span><span class="hl-1"> </span><span class="hl-2">&quot;0xE2c2A8A1f52f8B19A46C97A6468628db80d31673&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">chain:</span><span class="hl-1"> </span><span class="hl-2">&quot;yellowstone&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:fetching-weather-data-and-writing-to-a-chain" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fetching weather data and writing to a chain<a href="#md:fetching-weather-data-and-writing-to-a-chain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The examples/hardhat-weather-oracle directory contains a simple example of how to use this kit to fetch weather data from the NOAA API and write it to a chain using the Lit Oracle Kit.</p>
<p>The script <a href="media/update-weather.ts">update-weather.ts</a> fetches the weather data and writes it to the chain by calling the <code>updateWeather</code> function on the deployed <a href="media/WeatherOracle.sol">WeatherOracle contract</a>.</p>
<a id="md:writing-your-data-source" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Writing your data source<a href="#md:writing-your-data-source" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can test your data source retrieval code using the <code>testDataSource()</code> function. This will simply run your code on the Lit Nodes and return the result, so you can confirm that it's retrieving the correct values.</p>
<pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">LitOracleKit</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;lit-oracle-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sdk</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">LitOracleKit</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;datil-dev&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-6">LIT_ORACLE_KIT_PRIVATE_KEY</span><span class="hl-1">!</span><br/><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">sdk</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">sdk</span><span class="hl-1">.</span><span class="hl-0">testDataSource</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">    const url = &quot;https://api.weather.gov/gridpoints/LWX/97,71/forecast&quot;;</span><br/><span class="hl-2">    const response = await fetch(url).then((res) =&gt; res.json());</span><br/><span class="hl-2">    const nearestForecast = response.properties.periods[0];</span><br/><span class="hl-2">    const temp = nearestForecast.temperature;</span><br/><span class="hl-2">    const probabilityOfPrecipitation = nearestForecast.probabilityOfPrecipitation.value || 0;</span><br/><span class="hl-2">    return [ temp, probabilityOfPrecipitation ];</span><br/><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// this will output your return value, so you can confirm it&#39;s correct</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">response</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#md:documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://lit-protocol.github.io/lit-oracle-kit/" target="_blank" class="external">API Documentation</a></li>
<li><a href="./examples/hardhat-weather-oracle/">Example Project</a></li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT</p>
<a id="md:support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Support<a href="#md:support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can find support information, including Discord and Telegram support channels, here: <a href="https://developer.litprotocol.com/support/intro" target="_blank" class="external">https://developer.litprotocol.com/support/intro</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:lit-oracle-kit"><span>Lit <wbr/>Oracle <wbr/>Kit</span></a><ul><li><a href="#md:how-it-works"><span>How it works</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><a href="#md:examples"><span>Examples</span></a></li><li><ul><li><a href="#md:fetching-weather-data-and-writing-to-a-chain"><span>Fetching weather data and writing to a chain</span></a></li></ul></li><li><a href="#md:writing-your-data-source"><span>Writing your data source</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:support"><span>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@lit-protocol/lit-oracle-kit</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
